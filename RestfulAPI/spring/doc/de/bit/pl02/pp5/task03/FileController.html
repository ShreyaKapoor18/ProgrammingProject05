<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="de">
<head>
<!-- Generated by javadoc (1.8.0_231) on Wed Jan 15 16:07:20 CET 2020 -->
<title>FileController</title>
<meta name="date" content="2020-01-15">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="FileController";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../de/bit/pl02/pp5/task03/package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/FileController.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev&nbsp;Class</li>
<li><a href="../../../../../de/bit/pl02/pp5/task03/NotFoundExceptionDb.html" title="class in de.bit.pl02.pp5.task03"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?de/bit/pl02/pp5/task03/FileController.html" target="_top">Frames</a></li>
<li><a href="FileController.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">de.bit.pl02.pp5.task03</div>
<h2 title="Class FileController" class="title">Class FileController</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>de.bit.pl02.pp5.task03.FileController</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>@RestController
public class <span class="typeNameLabel">FileController</span>
extends java.lang.Object</pre>
<div class="block">RESTful API Controller class that implements controlled access to a database created
 by the user via the url: http://localhost:8080/{databaseId}/store or http://localhost:8080/{databaseId}/get</div>
<dl>
<dt><span class="simpleTagLabel">Author:</span></dt>
<dd>Shreya Kapoor, Sophia Krix, Gemma van der Voort</dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>java.util.Map&lt;java.lang.String,java.lang.String&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../de/bit/pl02/pp5/task03/FileController.html#allowedDB">allowedDB</a></span></code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../../de/bit/pl02/pp5/task03/FileController.html#FileController--">FileController</a></span>()</code>
<div class="block">Constructor opens file 'config.json', which contains all databases 
 that the API user is allowed to access, and stores it in the Hashmap allowedDB.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>byte[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../de/bit/pl02/pp5/task03/FileController.html#get-java.lang.String-int-">get</a></span>(java.lang.String&nbsp;databaseId,
   int&nbsp;id)</code>
<div class="block">gives the id and gets the .png image in return, regardless of upload format.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>java.util.List&lt;de.bit.pl02.pp5.task02.MetaDataAPI&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../de/bit/pl02/pp5/task03/FileController.html#get-java.lang.String-java.lang.String-java.lang.String-">get</a></span>(java.lang.String&nbsp;databaseId,
   java.lang.String&nbsp;author,
   java.lang.String&nbsp;title)</code>
<div class="block">Search the database with databaseId by author and/or title.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code><a href="../../../../../de/bit/pl02/pp5/task03/StoreImageResponse.html" title="class in de.bit.pl02.pp5.task03">StoreImageResponse</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../de/bit/pl02/pp5/task03/FileController.html#store-java.lang.String-org.springframework.web.multipart.MultipartFile-java.lang.String-java.lang.String-java.lang.String-">store</a></span>(java.lang.String&nbsp;databaseId,
     org.springframework.web.multipart.MultipartFile&nbsp;file,
     java.lang.String&nbsp;author,
     java.lang.String&nbsp;title,
     java.lang.String&nbsp;link)</code>
<div class="block">Updates the database under databaseId with a new image file and metadata.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="allowedDB">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>allowedDB</h4>
<pre>public&nbsp;java.util.Map&lt;java.lang.String,java.lang.String&gt; allowedDB</pre>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="FileController--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>FileController</h4>
<pre>public&nbsp;FileController()</pre>
<div class="block">Constructor opens file 'config.json', which contains all databases 
 that the API user is allowed to access, and stores it in the Hashmap allowedDB.</div>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="store-java.lang.String-org.springframework.web.multipart.MultipartFile-java.lang.String-java.lang.String-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>store</h4>
<pre>@PostMapping(value="/{databaseId}/store")
public&nbsp;<a href="../../../../../de/bit/pl02/pp5/task03/StoreImageResponse.html" title="class in de.bit.pl02.pp5.task03">StoreImageResponse</a>&nbsp;store(@PathVariable
                                                                          java.lang.String&nbsp;databaseId,
                                                                          @RequestParam(value="file")
                                                                          org.springframework.web.multipart.MultipartFile&nbsp;file,
                                                                          @RequestParam(value="author",required=false)
                                                                          java.lang.String&nbsp;author,
                                                                          @RequestParam(value="title",required=false)
                                                                          java.lang.String&nbsp;title,
                                                                          @RequestParam(value="link",required=false)
                                                                          java.lang.String&nbsp;link)
                                                                   throws <a href="../../../../../de/bit/pl02/pp5/task03/NotFoundExceptionDb.html" title="class in de.bit.pl02.pp5.task03">NotFoundExceptionDb</a></pre>
<div class="block">Updates the database under databaseId with a new image file and metadata.
 File and databaseId are required parameters, the metadata are not.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>databaseId</code> - for valid databaseId, see allowedDBs.txt. Required.</dd>
<dd><code>file</code> - new image file with .png, .jpg or .jpeg extension. Required.</dd>
<dd><code>author</code> - author of the image. Optional</dd>
<dd><code>title</code> - title of the image. Optional</dd>
<dd><code>link</code> - link of the image. Optional</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>filename if successful.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../de/bit/pl02/pp5/task03/NotFoundExceptionDb.html" title="class in de.bit.pl02.pp5.task03">NotFoundExceptionDb</a></code> - if input database path or id are not valid according to allowedDBs.txt.</dd>
</dl>
</li>
</ul>
<a name="get-java.lang.String-java.lang.String-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>get</h4>
<pre>@GetMapping(value="/{databaseId}/get")
 @ResponseBody
public&nbsp;java.util.List&lt;de.bit.pl02.pp5.task02.MetaDataAPI&gt;&nbsp;get(@PathVariable
                                                                                                                    java.lang.String&nbsp;databaseId,
                                                                                                                    @RequestParam(value="author",required=false)
                                                                                                                    java.lang.String&nbsp;author,
                                                                                                                    @RequestParam(value="title",required=false)
                                                                                                                    java.lang.String&nbsp;title)
                                                                                                             throws <a href="../../../../../de/bit/pl02/pp5/task03/NotFoundExceptionDb.html" title="class in de.bit.pl02.pp5.task03">NotFoundExceptionDb</a></pre>
<div class="block">Search the database with databaseId by author and/or title. Returns matches with
 id and metadata in a list. The id can be used to look at the actual image using 
 the other get method (see below). The metadata can be used to distinguish the 
 results to find the wanted image id when multiple results are returned.
 Overloaded. Author and title cannot both be null.
 If failure due to no result, returns empty ArrayList.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>databaseId</code> - for valid databaseId, see allowedDBs.txt. Required.</dd>
<dd><code>author</code> - optional query, case sensitive.</dd>
<dd><code>title</code> - optional query, case sensitive.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>matches to query with id and metadata information in a list.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../de/bit/pl02/pp5/task03/NotFoundExceptionDb.html" title="class in de.bit.pl02.pp5.task03">NotFoundExceptionDb</a></code> - if input database path or id are not valid according to allowedDBs.txt.</dd>
</dl>
</li>
</ul>
<a name="get-java.lang.String-int-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>get</h4>
<pre>@GetMapping(value="/{databaseId}/get",
            params="id",
            produces="image/png")
 @ResponseBody
public&nbsp;byte[]&nbsp;get(@PathVariable
                                                                                                                                   java.lang.String&nbsp;databaseId,
                                                                                                                                   @RequestParam(value="id")
                                                                                                                                   int&nbsp;id)
                                                                                                                            throws <a href="../../../../../de/bit/pl02/pp5/task03/NotFoundExceptionDb.html" title="class in de.bit.pl02.pp5.task03">NotFoundExceptionDb</a></pre>
<div class="block">gives the id and gets the .png image in return, regardless of upload format.
 Search the database with databaseId by id. Returns unique match as a picture.
 The id can be found using the other get method (see above), which searches by
 author and/or title.
 Overloaded.
 If failure due to no result, returns empty byte[].</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>databaseId</code> - for valid databaseId, see allowedDBs.txt. Required.</dd>
<dd><code>id</code> - identification of database entry, to use as query. Required.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>image in .png format.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../de/bit/pl02/pp5/task03/NotFoundExceptionDb.html" title="class in de.bit.pl02.pp5.task03">NotFoundExceptionDb</a></code> - if input database path or id are not valid according to allowedDBs.txt.</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../de/bit/pl02/pp5/task03/package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/FileController.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev&nbsp;Class</li>
<li><a href="../../../../../de/bit/pl02/pp5/task03/NotFoundExceptionDb.html" title="class in de.bit.pl02.pp5.task03"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?de/bit/pl02/pp5/task03/FileController.html" target="_top">Frames</a></li>
<li><a href="FileController.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
